<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Select/Unselect Checkboxes</title>
    <style type="text/css">
        ul {
            background-color: #DCDCDC;
            list-style: none;
            margin: 0;
            padding: 0;
            width: 350px;
        }

        li {
            padding: 10px;
        }
    </style>
    <script type="text/javascript" src="../jq.js"></script>
</head>
<body>
<ul>
    <li>
        <input type="checkbox" id="handle"/>
        <label for="handle">
            <strong>Toggle All</strong>
        </label>
    </li>
    <li>
        <input type="checkbox" class="toggle"/>
        <label>A study in Scarlet</label>
    </li>
    <li>
        <input type="checkbox" class="toggle"/>
        <label>The Sign of the Four</label>
    </li>
    <li>
        <input type="checkbox" class="toggle"/>
        <label>The Adventures of Sherlock Holmes</label>
    </li>
    <li>
        <input type="checkbox" class="toggle"/>
        <label>The Valley of Fear</label>
    </li>
    <li>
        <input type="checkbox" class="toggle"/>
        <label>His Last Bow</label>
    </li>
    <li>
        <input type="button" id="getValue" value="Get Selected Values"/>
    </li>
    <li id="selected"></li>
</ul>
</body>
<script type="text/javascript">
    $(document).ready(function () {
        // false
        console.log(document.getElementById("handle").checked);
        // undefined
        console.log($('#handle').attr('checked'));
        $('#handle').click(function () {
            // true
            console.log(document.getElementById("handle").checked);
            // checked
            console.log($(this).attr('checked'));
            if ($(this).attr("checked") == 'checked') {
                $('.toggle').attr('checked', 'true');
            } else {
                $('.toggle').removeAttr('checked');
            }
        });


        $('.toggle').click(function () {
            if ($('.toggle:checked').length == $('.toggle').length)
                $('#handle').attr('checked', 'true');
            if ($('.toggle:checked').length < $('.toggle').length)
                $('#handle').removeAttr('checked');
        });

        $('#getValue').click(function () {
            console.log(111);
            var values = '';
            if ($('.toggle:checked').length) {
                $('.toggle:checked').each(function () {
                    values += $(this).next('lable').html() + ' ,';
                });
                $('#selected').html('Selected values are: ' + values);
            } else {
                $('#selected').html('Nothing Selected');
            }
        });
    });


</script>
</html>